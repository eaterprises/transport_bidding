<h3>View Transport Cycles</h3>

<div class="container">
  <div class="row-fluid">
    <div class="span9">
      <table ng-init="getTransportCycleData()" class="table table-striped table-hover">
        <thead>
          <tr>
            <th>
              <input type="text" ng-model="search_active" class="input-medium" /><br/>
              <a ng-click="setSortCol('is_active')">Active
                <i ng-class="{true:'icon-chevron-up', false:'icon-chevron-down'}[isSortReverse('is_active')]"></i></a>
            </th>
            <th>
              <input type="text" ng-model="search_transport_cycle" class="input-medium" /><br/>
              <a ng-click="setSortCol('text_name')">Transport Cycle
                <i ng-class="{true:'icon-chevron-up', false:'icon-chevron-down'}[isSortReverse('text_name')]"></i></a>
            </th>
            <th>
              <input type="text" ng-model="search_start_date" class="input-medium" /><br/>
              <a ng-click="setSortCol('start_date')">Start Date
                <i ng-class="{true:'icon-chevron-up', false:'icon-chevron-down'}[isSortReverse('start_date')]"></i></a>
            </th>
            <th>
              <input type="text" ng-model="search_end_date" class="input-medium" /><br/>
              <a ng-click="setSortCol('end_date')">End Date
                <i ng-class="{true:'icon-chevron-up', false:'icon-chevron-down'}[isSortReverse('end_date')]"></i></a>
            </th>
            <th>
              <input type="text" ng-model="search_coordinator" class="input-medium" /><br/>
              <a ng-click="setSortCol('coordinator_text')">Co-ordinator
                <i ng-class="{true:'icon-chevron-up', false:'icon-chevron-down'}[isSortReverse('coordinator_text')]"></i></a>
            </th>
            <th>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-click="onRowClick(row)"
              ng-repeat="row in transportCycleData | filter:filterCoordinator | orderBy:sortCol:sortReverse[sortCol]">
            <td>{{row.is_active}}</td>
            <td>{{row.display_text}}</td>
            <td>{{row.start_date}}</td>
            <td>{{row.end_date}}</td>
            <td>{{row.coordinator_text}}</td>
            <td><a href="/#/packages/{{row._id}}" class="btn">View</a></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="span3 well">
    	<h4>Edit Transport Cycle</h4>
      <form name="submitForm" ng-submit="editTransportCycle()">
      <p ng-repeat="detail in rowDetails.display">
        <b class="muted">{{detail.desc}}:</b><br />{{detail.val}}
      </p>
      	{{rowDetails.data.id}}
      	{{rowDetails.data.active}}
        <b class="muted">Active: </b><input type="checkbox" ng-model="transportCycleActive"/><br/>
        <input type="hidden" ng-model="transportCycleId" value="{{rowDetails.data.id}}"/>
        <input type="submit" class="btn btn-success" value="Save"/>
      </form>      
    </div>
  </div>
</div>
